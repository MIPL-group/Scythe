//http://stackoverflow.com/questions/33037505/get-the-result-based-on-column-attribute-value

#input

|  Id  |  Plan  | Attributes  | Value  |
|--------------------------------------|
|  1   |   A    |   Name      |  AAA   |
|  2   |   A    |   Class     |  P     |
|  3   |   A    |   IsActive  |  True  |
|  4   |   B    |   Name      |  BBB   |
|  5   |   B    |   Class     |  Q     |
|  6   |   B    |   IsActive  |  False |
|  7   |   C    |   Name      |  CCC   |
|  8   |   C    |   Class     |  R     |
|  9   |   C    |   IsActive  |  True  |

#output

|  Id |  Plan | Attributes  | Value  |
|------------------------------------|
|  1  |   A   |   Name      |  AAA   |
|  2  |   A   |   Class     |  P     |
|  3  |   A   |   IsActive  |  True  |
|  7  |   C   |   Name      |  CCC   |
|  8  |   C   |   Class     |  R     |
|  9  |   C   |   IsActive  |  True  |

#constraint
{
	"constants": ["True", "IsActive"],
	"aggregation_functions": []
}

#solution

Select * 
From MyTable 
Where [Plan] In (
   Select [Plan] 
   From MyTable 
   Where Attributes = 'IsActive' And Value = 'True'
);

Select t2.Id1,t2.Plan,t2.Attributes1,t2.Value1
 From
  (Select input1.Id, input1.Plan, input1.Attributes, input1.Value, input1.Id As Id1, input1.Plan As Plan1, input1.Attributes As Attributes1, input1.Value As Value1
  From (Select *
       From
        input1
       Where input1.Attributes = IsActive
         And input1.Value = True) Join
      input1) As t2
 Where t2.Plan = t2.Plan1;
